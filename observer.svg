<?xml version='1.0' encoding='UTF-8' standalone='no'?><svg contentStyleType='text/css' height='701px' preserveAspectRatio='none' style='width:871px;height:701px;background:#FFFFFF;' version='1.1' viewBox='0 0 871 701' width='871px' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' zoomAndPan='magnify'><defs/><g><rect height='62.128' style='stroke:#00000000;stroke-width:1.0;fill:none;' width='190' x='333.75' y='5'/><text fill='#000000' font-family='Source Han Sans SC' font-size='36' font-weight='bold' lengthAdjust='spacing' textLength='180' x='338.75' y='51.76'>观察者模式</text><g id='elem_Subject'><rect codeLine='25' fill='#F1F1F1' height='76.28' id='Subject' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='243' x='150' y='264.128'/><ellipse cx='225' cy='281.698' fill='#A9DCDF' rx='12' ry='12' style='stroke:#181818;stroke-width:1.0;'/><path d='M225.0156,276.5105 L223.6563,282.4636 L226.3906,282.4636 L225.0156,276.5105 Z M223.2656,273.8699 L226.7813,273.8699 L230.7188,288.448 L227.8438,288.448 L226.9375,284.8386 L223.0781,284.8386 L222.2031,288.448 L219.3281,288.448 L223.2656,273.8699 Z ' fill='#000000'/><text fill='#000000' font-family='Source Code Pro' font-size='20' font-style='italic' lengthAdjust='spacing' textLength='84' x='247' y='288.808'>Subject</text><line style='stroke:#181818;stroke-width:0.5;' x1='151' x2='392' y1='299.268' y2='299.268'/><rect fill='none' height='6' style='stroke:#C82930;stroke-width:1.0;' width='6' x='158' y='307.268'/><text fill='#000000' font-family='Source Code Pro' font-size='20' lengthAdjust='spacing' textLength='216' x='171' y='322.948'>observer :Observer</text><line style='stroke:#181818;stroke-width:0.5;' x1='151' x2='392' y1='332.408' y2='332.408'/></g><g id='elem_GMN696'><path d='M6,79.128 L6,204.0879 A0,0 0 0 0 6,204.0879 L221.71,204.0879 L253.96,264.058 L229.71,204.0879 L387,204.0879 A0,0 0 0 0 387,204.0879 L387,89.128 L377,79.128 L6,79.128 A0,0 0 0 0 6,79.128 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M377,79.128 L377,89.128 L387,89.128 L377,79.128 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='337' x='12' y='107.148'>Subject 类，它把所有对观察者对象的</text><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='360' x='12' y='135.888'>引用保存在一个聚集里，每个主题都可以</text><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='360' x='12' y='164.6279'>有任何数量的观察者。抽象主题提供一个</text><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='320' x='12' y='193.3679'>接口，可以增加和删除观察者对象。</text></g><g id='elem_Observer'><rect codeLine='30' fill='#F1F1F1' height='51.14' id='Observer' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='130' x='562.5' y='276.628'/><ellipse cx='578.5' cy='294.198' fill='#A9DCDF' rx='12' ry='12' style='stroke:#181818;stroke-width:1.0;'/><path d='M578.5156,289.0105 L577.1563,294.9636 L579.8906,294.9636 L578.5156,289.0105 Z M576.7656,286.3699 L580.2813,286.3699 L584.2188,300.948 L581.3438,300.948 L580.4375,297.3386 L576.5781,297.3386 L575.7031,300.948 L572.8281,300.948 L576.7656,286.3699 Z ' fill='#000000'/><text fill='#000000' font-family='Source Code Pro' font-size='20' font-style='italic' lengthAdjust='spacing' textLength='96' x='593.5' y='301.308'>Observer</text><line style='stroke:#181818;stroke-width:0.5;' x1='563.5' x2='691.5' y1='311.768' y2='311.768'/><line style='stroke:#181818;stroke-width:0.5;' x1='563.5' x2='691.5' y1='319.768' y2='319.768'/></g><g id='elem_GMN700'><path d='M487,93.628 L487,189.8479 A0,0 0 0 0 487,189.8479 L651.61,189.8479 L633.73,276.458 L659.61,189.8479 L848,189.8479 A0,0 0 0 0 848,189.8479 L848,103.628 L838,93.628 L487,93.628 A0,0 0 0 0 487,93.628 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M838,93.628 L838,103.628 L848,103.628 L838,93.628 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='328' x='493' y='121.648'>Observer类，抽象观察者，为所有的</text><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='340' x='493' y='150.388'>具体观察者定义一个接口，在得到主题</text><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='180' x='493' y='179.1279'>的通知时更新自己。</text></g><g id='elem_ConcreteObserver'><rect codeLine='33' fill='#F1F1F1' height='76.28' id='ConcreteObserver' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='226' x='514.5' y='400.128'/><ellipse cx='530.5' cy='417.698' fill='#ADD1B2' rx='12' ry='12' style='stroke:#181818;stroke-width:1.0;'/><path d='M533.5625,424.7761 Q532.875,425.1355 532.125,425.3074 Q531.375,425.4793 530.5469,425.4793 Q527.5938,425.4793 526.0313,423.5418 Q524.4844,421.5886 524.4844,417.9168 Q524.4844,414.2449 526.0313,412.3074 Q527.5938,410.3543 530.5469,410.3543 Q531.375,410.3543 532.125,410.5261 Q532.8906,410.698 533.5625,411.0574 L533.5625,414.2605 Q532.8125,413.573 532.1094,413.2605 Q531.4219,412.948 530.6719,412.948 Q529.0938,412.948 528.2813,414.198 Q527.4844,415.448 527.4844,417.9168 Q527.4844,420.3855 528.2813,421.6355 Q529.0938,422.8855 530.6719,422.8855 Q531.4219,422.8855 532.1094,422.573 Q532.8125,422.2605 533.5625,421.573 L533.5625,424.7761 Z ' fill='#000000'/><text fill='#000000' font-family='Source Code Pro' font-size='20' lengthAdjust='spacing' textLength='192' x='545.5' y='424.808'>ConcreteObserver</text><line style='stroke:#181818;stroke-width:0.5;' x1='515.5' x2='739.5' y1='435.268' y2='435.268'/><rect fill='none' height='6' style='stroke:#C82930;stroke-width:1.0;' width='6' x='522.5' y='443.268'/><text fill='#000000' font-family='Source Code Pro' font-size='20' lengthAdjust='spacing' textLength='192' x='535.5' y='458.948'>subject :Subject</text><line style='stroke:#181818;stroke-width:0.5;' x1='515.5' x2='739.5' y1='468.408' y2='468.408'/></g><g id='elem_GMN704'><path d='M462.5,550.628 L462.5,646.8479 A0,0 0 0 0 462.5,646.8479 L864.5,646.8479 A0,0 0 0 0 864.5,646.8479 L864.5,560.628 L854.5,550.628 L656.79,550.628 L635.94,476.288 L648.79,550.628 L462.5,550.628 A0,0 0 0 0 462.5,550.628 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M854.5,550.628 L854.5,560.628 L864.5,560.628 L854.5,550.628 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='381' x='468.5' y='578.648'>ConcreteObserver 类，具体观察者，实现</text><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='360' x='468.5' y='607.388'>抽象观察者角色所要求的更新接口，以便</text><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='320' x='468.5' y='636.1279'>使本身的状态与主题的状态相协调。</text></g><g id='elem_ConcreteSubject'><rect codeLine='38' fill='#F1F1F1' height='51.14' id='ConcreteSubject' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='214' x='164.5' y='412.628'/><ellipse cx='180.5' cy='430.198' fill='#ADD1B2' rx='12' ry='12' style='stroke:#181818;stroke-width:1.0;'/><path d='M183.5625,437.2761 Q182.875,437.6355 182.125,437.8074 Q181.375,437.9793 180.5469,437.9793 Q177.5938,437.9793 176.0313,436.0418 Q174.4844,434.0886 174.4844,430.4168 Q174.4844,426.7449 176.0313,424.8074 Q177.5938,422.8543 180.5469,422.8543 Q181.375,422.8543 182.125,423.0261 Q182.8906,423.198 183.5625,423.5574 L183.5625,426.7605 Q182.8125,426.073 182.1094,425.7605 Q181.4219,425.448 180.6719,425.448 Q179.0938,425.448 178.2813,426.698 Q177.4844,427.948 177.4844,430.4168 Q177.4844,432.8855 178.2813,434.1355 Q179.0938,435.3855 180.6719,435.3855 Q181.4219,435.3855 182.1094,435.073 Q182.8125,434.7605 183.5625,434.073 L183.5625,437.2761 Z ' fill='#000000'/><text fill='#000000' font-family='Source Code Pro' font-size='20' lengthAdjust='spacing' textLength='180' x='195.5' y='437.308'>ConcreteSubject</text><line style='stroke:#181818;stroke-width:0.5;' x1='165.5' x2='377.5' y1='447.768' y2='447.768'/><line style='stroke:#181818;stroke-width:0.5;' x1='165.5' x2='377.5' y1='455.768' y2='455.768'/></g><g id='elem_GMN708'><path d='M36.5,536.128 L36.5,661.0879 A0,0 0 0 0 36.5,661.0879 L362.5,661.0879 A0,0 0 0 0 362.5,661.0879 L362.5,546.128 L352.5,536.128 L231.44,536.128 L260.25,463.898 L223.44,536.128 L36.5,536.128 A0,0 0 0 0 36.5,536.128 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M352.5,536.128 L352.5,546.128 L362.5,546.128 L352.5,536.128 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='305' x='42.5' y='564.148'>ConcreteSubject 类，具体主题，</text><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='300' x='42.5' y='592.888'>将有关状态存入具体观察者对象；</text><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='280' x='42.5' y='621.6279'>在具体主题的内部状态改变时，</text><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='300' x='42.5' y='650.3679'>给所有登记过的观察者发出通知。</text></g><g id='link_Subject_Observer'><path codeLine='41' d='M406.37,302.128 C458.27,302.128 510.16,302.128 562.06,302.128 ' fill='none' id='Subject-backto-Observer' style='stroke:#181818;stroke-width:1.0;'/><polygon fill='none' points='393.18,302.128,399.18,306.128,405.18,302.128,399.18,298.128,393.18,302.128' style='stroke:#181818;stroke-width:1.0;'/><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='92' x='400.778' y='296.524'>-observer</text></g><g id='link_Subject_ConcreteSubject'><path codeLine='43' d='M271.5,360.558 C271.5,378.658 271.5,397.698 271.5,412.268 ' fill='none' id='Subject-backto-ConcreteSubject' style='stroke:#181818;stroke-width:1.0;'/><polygon fill='none' points='264.5,360.458,271.5,340.458,278.5,360.458,264.5,360.458' style='stroke:#181818;stroke-width:1.0;'/></g><g id='link_Observer_ConcreteObserver'><path codeLine='44' d='M627.5,347.958 C627.5,364.878 627.5,383.928 627.5,400.058 ' fill='none' id='Observer-backto-ConcreteObserver' style='stroke:#181818;stroke-width:1.0;'/><polygon fill='none' points='620.5,347.708,627.5,327.708,634.5,347.708,620.5,347.708' style='stroke:#181818;stroke-width:1.0;'/></g><g id='link_ConcreteSubject_ConcreteObserver'><path codeLine='46' d='M378.58,438.128 C419.38,438.128 460.18,438.128 500.97,438.128 ' fill='none' id='ConcreteSubject-to-ConcreteObserver' style='stroke:#181818;stroke-width:1.0;'/><polygon fill='none' points='514.22,438.128,508.22,434.128,502.22,438.128,508.22,442.128,514.22,438.128' style='stroke:#181818;stroke-width:1.0;'/><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='77' x='429.3938' y='432.438'>-subject</text></g><rect height='26.0638' style='stroke:#00000000;stroke-width:1.0;fill:none;' width='355' x='251.25' y='667.0879'/><text fill='#888888' font-family='Source Han Sans SC' font-size='18' lengthAdjust='spacing' textLength='355' x='251.25' y='687.9678'>D瓜哥 · https://www.diguage.com · 出品</text></g></svg>