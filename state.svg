<?xml version='1.0' encoding='UTF-8' standalone='no'?><svg contentStyleType='text/css' height='639px' preserveAspectRatio='none' style='width:918px;height:639px;background:#FFFFFF;' version='1.1' viewBox='0 0 918 639' width='918px' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' zoomAndPan='magnify'><defs/><g><rect height='62.128' style='stroke:#00000000;stroke-width:1.0;fill:none;' width='154' x='375.25' y='5'/><text fill='#000000' font-family='Source Han Sans SC' font-size='36' font-weight='bold' lengthAdjust='spacing' textLength='144' x='380.25' y='51.76'>状态模式</text><g id='elem_Context'><rect codeLine='25' fill='#F1F1F1' height='101.4199' id='Context' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='231' x='32.5' y='235.128'/><ellipse cx='101.5' cy='252.698' fill='#ADD1B2' rx='12' ry='12' style='stroke:#181818;stroke-width:1.0;'/><path d='M104.5625,259.7761 Q103.875,260.1355 103.125,260.3074 Q102.375,260.4793 101.5469,260.4793 Q98.5938,260.4793 97.0313,258.5418 Q95.4844,256.5886 95.4844,252.9168 Q95.4844,249.2449 97.0313,247.3074 Q98.5938,245.3543 101.5469,245.3543 Q102.375,245.3543 103.125,245.5261 Q103.8906,245.698 104.5625,246.0574 L104.5625,249.2605 Q103.8125,248.573 103.1094,248.2605 Q102.4219,247.948 101.6719,247.948 Q100.0938,247.948 99.2813,249.198 Q98.4844,250.448 98.4844,252.9168 Q98.4844,255.3855 99.2813,256.6355 Q100.0938,257.8855 101.6719,257.8855 Q102.4219,257.8855 103.1094,257.573 Q103.8125,257.2605 104.5625,256.573 L104.5625,259.7761 Z ' fill='#000000'/><text fill='#000000' font-family='Source Code Pro' font-size='20' lengthAdjust='spacing' textLength='84' x='123.5' y='259.808'>Context</text><line style='stroke:#181818;stroke-width:0.5;' x1='33.5' x2='262.5' y1='270.268' y2='270.268'/><rect fill='none' height='6' style='stroke:#C82930;stroke-width:1.0;' width='6' x='40.5' y='278.268'/><text fill='#000000' font-family='Source Code Pro' font-size='20' lengthAdjust='spacing' textLength='192' x='53.5' y='293.948'>state     :State</text><line style='stroke:#181818;stroke-width:0.5;' x1='33.5' x2='262.5' y1='303.408' y2='303.408'/><ellipse cx='43.5' cy='314.408' fill='#84BE84' rx='3' ry='3' style='stroke:#038048;stroke-width:1.0;'/><text fill='#000000' font-family='Source Code Pro' font-size='20' lengthAdjust='spacing' textLength='204' x='53.5' y='327.088'>request() :Object</text></g><g id='elem_GMN768'><path d='M6,79.128 L6,175.3479 A0,0 0 0 0 6,175.3479 L130.75,175.3479 L141.97,234.968 L138.75,175.3479 L252,175.3479 A0,0 0 0 0 252,175.3479 L252,89.128 L242,79.128 L6,79.128 A0,0 0 0 0 6,79.128 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M242,79.128 L242,89.128 L252,89.128 L242,79.128 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='220' x='12' y='107.148'>维护一个 ConcreteState</text><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='200' x='12' y='135.888'>子类的实例，这个实例</text><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='160' x='12' y='164.6279'>定义当前的状态。</text></g><g id='elem_State'><rect codeLine='31' fill='#F1F1F1' height='76.28' id='State' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='219' x='373.5' y='247.628'/><ellipse cx='448.5' cy='265.198' fill='#A9DCDF' rx='12' ry='12' style='stroke:#181818;stroke-width:1.0;'/><path d='M448.5156,260.0105 L447.1563,265.9636 L449.8906,265.9636 L448.5156,260.0105 Z M446.7656,257.3699 L450.2813,257.3699 L454.2188,271.948 L451.3438,271.948 L450.4375,268.3386 L446.5781,268.3386 L445.7031,271.948 L442.8281,271.948 L446.7656,257.3699 Z ' fill='#000000'/><text fill='#000000' font-family='Source Code Pro' font-size='20' font-style='italic' lengthAdjust='spacing' textLength='60' x='470.5' y='272.308'>State</text><line style='stroke:#181818;stroke-width:0.5;' x1='374.5' x2='591.5' y1='282.768' y2='282.768'/><line style='stroke:#181818;stroke-width:0.5;' x1='374.5' x2='591.5' y1='290.768' y2='290.768'/><ellipse cx='384.5' cy='301.768' fill='#84BE84' rx='3' ry='3' style='stroke:#038048;stroke-width:1.0;'/><text fill='#000000' font-family='Source Code Pro' font-size='20' font-style='italic' lengthAdjust='spacing' textLength='192' x='394.5' y='314.448'>handle() :Object</text></g><g id='elem_GMN772'><path d='M352.5,79.128 L352.5,175.3479 A0,0 0 0 0 352.5,175.3479 L485.97,175.3479 L485.37,247.598 L493.97,175.3479 L633.5,175.3479 A0,0 0 0 0 633.5,175.3479 L633.5,89.128 L623.5,79.128 L352.5,79.128 A0,0 0 0 0 352.5,79.128 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M623.5,79.128 L623.5,89.128 L633.5,89.128 L623.5,79.128 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='260' x='358.5' y='107.148'>抽象状态类，定义一个接口以</text><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='245' x='358.5' y='135.888'>封装与 Context 的一个特定</text><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='160' x='358.5' y='164.6279'>状态相关的行为。</text></g><g id='elem_ConcreteStateA'><rect codeLine='36' fill='#F1F1F1' height='76.28' id='ConcreteStateA' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='219' x='54.5' y='396.128'/><ellipse cx='78.15' cy='413.698' fill='#ADD1B2' rx='12' ry='12' style='stroke:#181818;stroke-width:1.0;'/><path d='M81.2125,420.7761 Q80.525,421.1355 79.775,421.3074 Q79.025,421.4793 78.1969,421.4793 Q75.2438,421.4793 73.6813,419.5418 Q72.1344,417.5886 72.1344,413.9168 Q72.1344,410.2449 73.6813,408.3074 Q75.2438,406.3543 78.1969,406.3543 Q79.025,406.3543 79.775,406.5261 Q80.5406,406.698 81.2125,407.0574 L81.2125,410.2605 Q80.4625,409.573 79.7594,409.2605 Q79.0719,408.948 78.3219,408.948 Q76.7438,408.948 75.9313,410.198 Q75.1344,411.448 75.1344,413.9168 Q75.1344,416.3855 75.9313,417.6355 Q76.7438,418.8855 78.3219,418.8855 Q79.0719,418.8855 79.7594,418.573 Q80.4625,418.2605 81.2125,417.573 L81.2125,420.7761 Z ' fill='#000000'/><text fill='#000000' font-family='Source Code Pro' font-size='20' lengthAdjust='spacing' textLength='168' x='94.85' y='420.808'>ConcreteStateA</text><line style='stroke:#181818;stroke-width:0.5;' x1='55.5' x2='272.5' y1='431.268' y2='431.268'/><line style='stroke:#181818;stroke-width:0.5;' x1='55.5' x2='272.5' y1='439.268' y2='439.268'/><ellipse cx='65.5' cy='450.268' fill='#84BE84' rx='3' ry='3' style='stroke:#038048;stroke-width:1.0;'/><text fill='#000000' font-family='Source Code Pro' font-size='20' lengthAdjust='spacing' textLength='192' x='75.5' y='462.948'>handle() :Object</text></g><g id='elem_ConcreteStateB'><rect codeLine='40' fill='#F1F1F1' height='76.28' id='ConcreteStateB' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='219' x='373.5' y='396.128'/><ellipse cx='397.15' cy='413.698' fill='#ADD1B2' rx='12' ry='12' style='stroke:#181818;stroke-width:1.0;'/><path d='M400.2125,420.7761 Q399.525,421.1355 398.775,421.3074 Q398.025,421.4793 397.1969,421.4793 Q394.2438,421.4793 392.6813,419.5418 Q391.1344,417.5886 391.1344,413.9168 Q391.1344,410.2449 392.6813,408.3074 Q394.2438,406.3543 397.1969,406.3543 Q398.025,406.3543 398.775,406.5261 Q399.5406,406.698 400.2125,407.0574 L400.2125,410.2605 Q399.4625,409.573 398.7594,409.2605 Q398.0719,408.948 397.3219,408.948 Q395.7438,408.948 394.9313,410.198 Q394.1344,411.448 394.1344,413.9168 Q394.1344,416.3855 394.9313,417.6355 Q395.7438,418.8855 397.3219,418.8855 Q398.0719,418.8855 398.7594,418.573 Q399.4625,418.2605 400.2125,417.573 L400.2125,420.7761 Z ' fill='#000000'/><text fill='#000000' font-family='Source Code Pro' font-size='20' lengthAdjust='spacing' textLength='168' x='413.85' y='420.808'>ConcreteStateB</text><line style='stroke:#181818;stroke-width:0.5;' x1='374.5' x2='591.5' y1='431.268' y2='431.268'/><line style='stroke:#181818;stroke-width:0.5;' x1='374.5' x2='591.5' y1='439.268' y2='439.268'/><ellipse cx='384.5' cy='450.268' fill='#84BE84' rx='3' ry='3' style='stroke:#038048;stroke-width:1.0;'/><text fill='#000000' font-family='Source Code Pro' font-size='20' lengthAdjust='spacing' textLength='192' x='394.5' y='462.948'>handle() :Object</text></g><g id='elem_ConcreteStateC'><rect codeLine='44' fill='#F1F1F1' height='76.28' id='ConcreteStateC' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='219' x='692.5' y='396.128'/><ellipse cx='716.15' cy='413.698' fill='#ADD1B2' rx='12' ry='12' style='stroke:#181818;stroke-width:1.0;'/><path d='M719.2125,420.7761 Q718.525,421.1355 717.775,421.3074 Q717.025,421.4793 716.1969,421.4793 Q713.2438,421.4793 711.6813,419.5418 Q710.1344,417.5886 710.1344,413.9168 Q710.1344,410.2449 711.6813,408.3074 Q713.2438,406.3543 716.1969,406.3543 Q717.025,406.3543 717.775,406.5261 Q718.5406,406.698 719.2125,407.0574 L719.2125,410.2605 Q718.4625,409.573 717.7594,409.2605 Q717.0719,408.948 716.3219,408.948 Q714.7438,408.948 713.9313,410.198 Q713.1344,411.448 713.1344,413.9168 Q713.1344,416.3855 713.9313,417.6355 Q714.7438,418.8855 716.3219,418.8855 Q717.0719,418.8855 717.7594,418.573 Q718.4625,418.2605 719.2125,417.573 L719.2125,420.7761 Z ' fill='#000000'/><text fill='#000000' font-family='Source Code Pro' font-size='20' lengthAdjust='spacing' textLength='168' x='732.85' y='420.808'>ConcreteStateC</text><line style='stroke:#181818;stroke-width:0.5;' x1='693.5' x2='910.5' y1='431.268' y2='431.268'/><line style='stroke:#181818;stroke-width:0.5;' x1='693.5' x2='910.5' y1='439.268' y2='439.268'/><ellipse cx='703.5' cy='450.268' fill='#84BE84' rx='3' ry='3' style='stroke:#038048;stroke-width:1.0;'/><text fill='#000000' font-family='Source Code Pro' font-size='20' lengthAdjust='spacing' textLength='192' x='713.5' y='462.948'>handle() :Object</text></g><g id='elem_csn'><path d='M310,532.128 L310,599.608 L656,599.608 L656,542.128 L646,532.128 L310,532.128 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M646,532.128 L646,542.128 L656,542.128 L646,532.128 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:1.0;'/><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='280' x='316' y='560.148'>具体状态，每一个子类实现一个</text><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='325' x='316' y='588.888'>与 Context 的一个状态相关的行为。</text></g><g id='link_ConcreteStateA_csn'><path codeLine='50' d='M255.41,472.238 C301.9,491.108 357.89,513.838 402.7,532.028 ' fill='none' id='ConcreteStateA-csn' style='stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;'/></g><g id='link_ConcreteStateB_csn'><path codeLine='51' d='M483,472.238 C483,491.068 483,513.748 483,531.918 ' fill='none' id='ConcreteStateB-csn' style='stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;'/></g><g id='link_ConcreteStateC_csn'><path codeLine='52' d='M710.59,472.238 C664.1,491.108 608.11,513.838 563.3,532.028 ' fill='none' id='ConcreteStateC-csn' style='stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;'/></g><g id='link_Context_State'><path codeLine='54' d='M275.81,285.628 C275.81,285.628 332.52,285.628 360.24,285.628 ' fill='none' id='Context-State' style='stroke:#181818;stroke-width:1.0;'/><polygon fill='#181818' points='373.41,285.628,364.41,281.628,368.41,285.628,364.41,289.628,373.41,285.628' style='stroke:#181818;stroke-width:1.0;'/><line style='stroke:#181818;stroke-width:1.0;' x1='368.41' x2='360.41' y1='285.628' y2='285.628'/><polygon fill='none' points='263.81,285.628,269.81,289.628,275.81,285.628,269.81,281.628,263.81,285.628' style='stroke:#181818;stroke-width:1.0;'/><text fill='#000000' font-family='Source Han Serif SC' font-size='20' lengthAdjust='spacing' textLength='52' x='271.5652' y='279.8911'>-state</text></g><g id='link_State_ConcreteStateA'><path codeLine='56' d='M383.77,332.198 C339.11,352.708 287.06,376.618 244.82,396.008 ' fill='none' id='State-backto-ConcreteStateA' style='stroke:#181818;stroke-width:1.0;'/><polygon fill='none' points='380.99,325.768,402.09,323.788,386.84,338.498,380.99,325.768' style='stroke:#181818;stroke-width:1.0;'/></g><g id='link_State_ConcreteStateB'><path codeLine='57' d='M483,344.048 C483,361.558 483,380.328 483,396.098 ' fill='none' id='State-backto-ConcreteStateB' style='stroke:#181818;stroke-width:1.0;'/><polygon fill='none' points='476,343.978,483,323.978,490,343.978,476,343.978' style='stroke:#181818;stroke-width:1.0;'/></g><g id='link_State_ConcreteStateC'><path codeLine='58' d='M582.23,332.198 C626.89,352.708 678.94,376.618 721.18,396.008 ' fill='none' id='State-backto-ConcreteStateC' style='stroke:#181818;stroke-width:1.0;'/><polygon fill='none' points='579.16,338.498,563.91,323.788,585.01,325.768,579.16,338.498' style='stroke:#181818;stroke-width:1.0;'/></g><rect height='26.0638' style='stroke:#00000000;stroke-width:1.0;fill:none;' width='355' x='274.75' y='605.608'/><text fill='#888888' font-family='Source Han Sans SC' font-size='18' lengthAdjust='spacing' textLength='355' x='274.75' y='626.4878'>D瓜哥 · https://www.diguage.com · 出品</text></g></svg>